<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Search Massage Chair</title>
  <style>
    /* 스타일링 추가 */
    body {
      font-family: 'Arial', sans-serif;
      margin: 20px;
    }

    h2 {
      color: #333;
    }

    form {
      margin-bottom: 20px;
    }

    table {
      border-collapse: collapse;
      width: 100%;
      margin-top: 20px;
    }

    th, td {
      border: 1px solid #ddd;
      padding: 8px;
      text-align: left;
    }

    th {
      background-color: #f2f2f2;
    }
  </style>
</head>
<body>

<h2>Search Massage Chair</h2>

<form th:action="@{/massage-chair/search}" method="post" id="searchForm">
  <label for="keyword">Keyword:</label>
  <input type="text" id="keyword" name="keyword" required>

  <button type="submit">Search</button>
</form>

<!-- 검색 결과를 여기에 표시 -->
<div id="searchResults" style="display: none;">
  <h2>Search Results</h2>

  <table>
    <thead>
    <tr>
      <th>Product ID</th>
      <th>Product Group ID</th>
      <th>Price</th>
    </tr>
    </thead>
    <tbody id="resultsBody">
    <!-- 검색 결과가 여기에 동적으로 추가될 것임 -->
    </tbody>
  </table>
</div>

<script>
  // 검색 폼 제출 시 결과를 받아와서 화면에 표시하는 함수
  document.getElementById('searchForm').addEventListener('submit', function (event) {
    event.preventDefault();

    // 검색 결과를 가져오는 비동기 함수 호출
    searchResults(document.getElementById('keyword').value);
  });

  function searchResults(keyword) {
    // 여기에서 검색 결과를 가져와서 동적으로 결과를 추가
    // 예시로 더미 데이터를 사용하고 있으니 실제 검색 결과를 가져오는 로직으로 변경 필요

    var dummyData = [
      {productId: '1', prodGrpId: 'A001', price: '1000'},
      {productId: '2', prodGrpId: 'A002', price: '1200'},
      // 더미 데이터 계속 추가...
    ];

    var resultsBody = document.getElementById('resultsBody');
    resultsBody.innerHTML = ''; // 기존 결과 비우기

    // 더미 데이터를 기반으로 결과 동적으로 추가
    dummyData.forEach(function (product) {
      var row = document.createElement('tr');
      row.innerHTML = '<td>' + product.productId + '</td>' +
              '<td>' + product.prodGrpId + '</td>' +
              '<td>' + product.price + '</td>';

      resultsBody.appendChild(row);
    });

    // 검색 결과를 보여줌
    document.getElementById('searchResults').style.display = 'block';
  }
</script>

</body>
</html>
